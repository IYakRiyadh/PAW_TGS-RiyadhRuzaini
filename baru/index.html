<!-- @format -->

<!DOCTYPE html>
<html>
  <head>
    <title>Sales System</title>
  </head>
  <body>
    <h1>Sales System</h1>

    <form>
      <label for="name">Item Name:</label>
      <input type="text" id="name" /><br />

      <label for="price">Price:</label>
      <input type="number" id="price" /><br />

      <label for="quantity">Quantity:</label>
      <input type="number" id="quantity" /><br />

      <button type="button" onclick="addItem()">Add Item</button>
    </form>

    <table>
      <thead>
        <tr>
          <th>Item Name</th>
          <th>Price</th>
          <th>Quantity</th>
          <th>Total Price</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody id="item-list"></tbody>
    </table>

    <div>Total Price: <span id="total-price">0</span></div>

    <script>
      var itemList = [];

      function addItem() {
        var name = document.getElementById('name').value;
        var price = parseFloat(document.getElementById('price').value);
        var quantity = parseInt(document.getElementById('quantity').value);

        if (name && price && quantity) {
          var total = price * quantity;
          var item = {
            name: name,
            price: price,
            quantity: quantity,
            total: total,
          };
          itemList.push(item);

          updateTable();
          updateTotalPrice();
        }
      }

      function removeItem(index) {
        itemList.splice(index, 1);
        updateTable();
        updateTotalPrice();
      }

      function updateTable() {
        var table = document.getElementById('item-list');
        table.innerHTML = '';

        for (var i = 0; i < itemList.length; i++) {
          var item = itemList[i];
          var row = table.insertRow(i);

          var nameCell = row.insertCell(0);
          nameCell.innerHTML = item.name;

          var priceCell = row.insertCell(1);
          priceCell.innerHTML = item.price;

          var quantityCell = row.insertCell(2);
          quantityCell.innerHTML = item.quantity;

          var totalCell = row.insertCell(3);
          totalCell.innerHTML = item.total;

          var actionCell = row.insertCell(4);
          var removeButton = document.createElement('button');
          removeButton.innerHTML = 'Remove';
          removeButton.onclick = (function (index) {
            return function () {
              removeItem(index);
            };
          })(i);
          actionCell.appendChild(removeButton);
        }
      }

      function updateTotalPrice() {
        var totalPrice = 0;

        for (var i = 0; i < itemList.length; i++) {
          var item = itemList[i];
          totalPrice += item.total;
        }

        document.getElementById('total-price').innerHTML = totalPrice;
      }
    </script>
  </body>
</html>
